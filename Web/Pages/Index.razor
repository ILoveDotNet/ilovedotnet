@page "/"
@using Toolbelt.Blazor.HeadElement
@inject IConfiguration configuration
@inject TableOfContents tableOfContents

<Meta Property="description" Content="@Description" />
<Meta Property="keywords" Content=".NET, DotNet, I Love DotNet, I ❤️ DotNet, Blazor, Blazor (WebAssembly), Blazor Wasm, C#, Entity Framework Core, LINQ, ML.NET, Web API" />
<Meta Property="url" Content="@BaseUrl" />
<Meta Property="identifier-URL" Content="@BaseUrl" />
<Meta Property="og:site_name" Content="@Title" />
<Meta Property="og:type" Content="website" />
<Meta Property="og:title" Content="@Title" />
<Meta Property="og:description" Content="@Description" />
<Meta Property="og:url" Content="@BaseUrl" />
<Meta Property="twitter:card" Content="summary" />
<Meta Property="twitter:title" Content="@Title" />
<Meta Property="twitter:description" Content="@Description" />
<Meta Property="twitter:url" Content="@BaseUrl" />
<HeadContent>
    <link rel="sitemap" href="@($"{BaseUrl}sitemap.xml")" type="application/xml" title="Sitemap" />
    <link rel="alternate" href="@($"{BaseUrl}atom.xml")" type="application/rss+xml" />
    <link rel="alternate" href="@BaseUrl" hreflang="en" />
    <link rel="alternate" href="@BaseUrl" hreflang="x-default" />
    <link rel="canonical" href="@BaseUrl" />
    <link rel="index" href="@BaseUrl" title="I ❤️ DotNet" />
    @(new MarkupString(
    $@"<script type=""application/ld+json"">
    {{
        ""@context"": ""https://schema.org"",
        ""@type"": ""WebSite"",
        ""publisher"": {{
            ""@type"": ""Organization"",
            ""name"": ""{Title}"",
            ""url"": ""{BaseUrl}"",
            ""logo"": {{
                ""@type"": ""ImageObject"",
                ""url"": ""{BaseUrl}favicon.ico"",
                ""width"": 16,
                ""height"": 16
            }}
        }},
        ""url"": ""{BaseUrl}"",
        ""mainEntityOfPage"": {{
            ""@type"": ""WebPage"",
            ""@id"": ""{BaseUrl}""
        }},
        ""description"": ""{Description}""
    }}
    </script>"))
</HeadContent>

<section class="[ dark:bg-stone-900 ] [ flex flex-col ] [ space-y-5 ] [ p-5 ]">
    <div class="[ grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 ]">
        @foreach (var content in tableOfContents.Contents.OrderByDescending(content => content.CreatedOn))
        {
             <Thumbnail PosterUrl="@content.ThumbnailUrl" 
                    ContentUrl="@content.ContentUrl"
                    Title="@content.Title"
                    AltText="@content.Title"
                    IconUrl="@content.IconUrl"
                    IconAlt="@content.Type"
                    CreatedOn="@content.CreatedOn"
                    Author="@content.Author">
            </Thumbnail>           
        }
    </div>
</section>

@code {
    private string Title = "I ❤️ DotNet";
    private string Description = "This is a .NET knowledge sharing platform with live demos crafted by developers for developers with love.";
    private string BaseUrl => configuration.GetValue<string>("baseUrl");
}